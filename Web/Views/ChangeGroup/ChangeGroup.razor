@inherits ChangeGroupBase
@using Web.Extensions
@using Web.Views.MemberSelection

@if (IsGroupLoading)
{
    <div class="text-center">
        <div class="spinner-border m-5"></div>
    </div>
}
else
{    
    <EditForm EditContext="EditContext" OnValidSubmit="SafeGroup">
        <label class="form-label">Name</label>
        <InputText @bind-Value="GroupData.Name" data-testid="group-name" class="form-control mb-3" />

        <hr />
        @if (IsUpdate)
        {
            @if(IsGroupDeleting)
            {
                <button class="btn btn-danger" type="button">
                    <span class="spinner-border spinner-border-sm"></span>
                    <span>Speichern</span>
                </button>
            }
            else
            {
                <button class="btn btn-danger" type="button" @onclick="DeleteGroup">Löschen</button>
            }
        }
        <div class="float-end">
            @if(IsGroupSaving)
            {
                <button class="btn btn-primary" type="button">
                    <span class="spinner-border spinner-border-sm"></span>
                    <span>Speichern</span>
                </button>
            }
            else
            {
                <button class="btn btn-primary" type="submit">Speichern</button>
            }
        </div>
    </EditForm>
}